(this["webpackJsonpbomb-frontend"]=this["webpackJsonpbomb-frontend"]||[]).push([[13],{1603:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return xe}));var a,r,c,o,i,u,l,s,d,m,f,p,b,O,x,h=t(2),g=t.n(h),j=t(12),v=t(40),E=t(1),k=t.n(E),y=t(814),B=t(32),N=t(38),w=t(57),D=t(774),P=t(991),C=t(33),T=t(1583),z=t(1574),M=t(1118),A=t(243),R=t(779),I=t(778),S=t(1155),U=t(1157),F=t(784),V=t(989),W=t(769),_=t(770),G=t(911),K=B.d.div(a||(a=Object(v.a)(["\n  align-items: center;\n  display: flex;\n  font-size: 20px;\n  font-weight: 700;\n  height: 64px;\n  justify-content: center;\n  color: #f9d749;\n  margin-top: ","px;\n"])),(function(e){return-e.theme.spacing[3]})),J=B.d.div(r||(r=Object(v.a)(["\n  background-color: ",";\n  width: 72px;\n  height: 72px;\n  border-radius: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: ","px;\n"])),(function(e){return e.theme.color.grey[900]}),(function(e){return e.theme.spacing[2]})),L=B.d.div(c||(c=Object(v.a)(["\n  align-items: center;\n  display: flex;\n  margin-bottom: ","px;\n"])),(function(e){return e.theme.spacing[5]})),q=B.d.div(o||(o=Object(v.a)(["\n  font-size: 20px;\n  padding-left: ","px;\n  padding-right: ","px;\n  padding-bottom: ","px;\n"])),(function(e){return e.theme.spacing[3]}),(function(e){return e.theme.spacing[3]}),(function(e){return e.theme.spacing[4]})),H=B.d.div(i||(i=Object(v.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  font-weight: 600;\n"]))),Q=B.d.div(u||(u=Object(v.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: ","px;\n  width: 100%;\n"])),(function(e){return e.theme.spacing[3]})),X=B.d.span(l||(l=Object(v.a)([""]))),Y=B.d.div(s||(s=Object(v.a)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n"]))),Z=function(e){var n=e.action,t=e.fromToken,a=e.fromTokenName,r=e.toToken,c=e.toTokenName,o=e.priceDesc,i=e.onExchange,u=e.disabled,l=void 0!==u&&u,s=e.disabledDescription,d=Object(G.a)(),m=Object(A.a)().contracts.Treasury,f=Object(_.b)(t,m.address),p=Object(C.a)(f,2),b=p[0],O=p[1],x=Object(W.a)(t),h=Object(F.a)(k.a.createElement(V.a,{title:n,description:o,max:x,onConfirm:function(e){i(e),v()},action:n,tokenName:a})),g=Object(C.a)(h,2),j=g[0],v=g[1];return k.a.createElement(T.a,null,k.a.createElement(M.a,null,k.a.createElement(Y,null,k.a.createElement(K,null,"".concat(n," ").concat(c)),k.a.createElement(L,null,k.a.createElement(H,null,k.a.createElement(J,null,k.a.createElement(I.a,{symbol:t.symbol,size:54})),k.a.createElement(R.a,{text:a,variant:"yellow"})),k.a.createElement(q,null,k.a.createElement(S.a,{icon:U.a})),k.a.createElement(H,null,k.a.createElement(J,null,k.a.createElement(I.a,{symbol:r.symbol,size:54})),k.a.createElement(R.a,{text:c,variant:"yellow"}))),k.a.createElement(X,null,o),k.a.createElement(Q,null,b===_.a.APPROVED||l?k.a.createElement(z.a,{className:l?"shinyButtonDisabled":"shinyButton",onClick:j,disabled:l},s||n):k.a.createElement(z.a,{className:"shinyButton",disabled:b===_.a.PENDING||b===_.a.UNKNOWN,onClick:function(){return d(O(),"Unable to approve ".concat(a))}},"Approve ".concat(a))))))},$=t(816),ee=t(837),ne=t(908),te=t(759),ae=B.d.div(d||(d=Object(v.a)(["\n  font-size: 20px;\n  font-weight: 700;\n  margin-bottom: ","px;\n"])),(function(e){return e.theme.spacing[2]})),re=B.d.span(m||(m=Object(v.a)(["\n  //color: ",";\n  text-align: center;\n"])),(function(e){return e.theme.color.grey[300]})),ce=B.d.div(f||(f=Object(v.a)(["\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  padding: ","px;\n"])),(function(e){return e.theme.spacing[2]})),oe=function(e){var n=e.tokenName,t=e.description,a=e.price;return k.a.createElement(T.a,null,k.a.createElement(ce,null,k.a.createElement(ae,null,"\ud83d\udcb0 ".concat(n," = ").concat(a," BTC")),k.a.createElement(re,null,t)))},ie=t(909),ue=t(21),le=t(910),se=t(776),de=t.n(se),me=t(820),fe=Object(B.c)(p||(p=Object(v.a)(["\n  body {\n    background: url(",") repeat !important;\n    background-size: cover !important;\n    background-color: #171923;\n  }\n"])),de.a),pe=B.d.div(b||(b=Object(v.a)(["\n  display: flex;\n  @media (max-width: 768px) {\n    width: 100%;\n    flex-flow: column nowrap;\n    align-items: center;\n  }\n"]))),be=B.d.div(O||(O=Object(v.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  @media (max-width: 768px) {\n    width: 80%;\n  }\n"]))),Oe=B.d.div(x||(x=Object(v.a)(["\n  display: flex;\n  flex: 0.8;\n  margin: 0 20px;\n  flex-direction: column;\n\n  @media (max-width: 768px) {\n    width: 80%;\n    margin: 16px 0;\n  }\n"]))),xe=function(){var e=Object(N.g)().path,n=Object(w.b)().account,t=Object(A.a)(),a=Object(te.b)(),r=Object(ee.a)(),c=Object(ne.a)(),o=Object(ie.a)(),i=Object(W.a)(null===t||void 0===t?void 0:t.BBOND),u=Object(E.useCallback)(function(){var e=Object(j.a)(g.a.mark((function e(n){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.buyBonds(n);case 2:r=e.sent,a(r,{summary:"Buy ".concat(Number(n).toFixed(2)," BBOND with ").concat(n," BOMB")});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[t,a]),l=Object(E.useCallback)(function(){var e=Object(j.a)(g.a.mark((function e(n){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.redeemBonds(n);case 2:r=e.sent,a(r,{summary:"Redeem ".concat(n," BBOND")});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[t,a]),s=Object(E.useMemo)((function(){return c.gt(le.b)}),[c]),d=Object(E.useMemo)((function(){return Number(null===r||void 0===r?void 0:r.tokenInFtm)<1.01}),[r]),m=(Object(E.useMemo)((function(){return Number(null===r||void 0===r?void 0:r.tokenInFtm)>=1.1}),[r]),(Number(c)/1e14).toFixed(4));return k.a.createElement(N.c,null,k.a.createElement(y.a,null,k.a.createElement(fe,null),k.a.createElement(me.a,null,k.a.createElement("title",null,"bomb.money | Bonds")),n?k.a.createElement(k.a.Fragment,null,k.a.createElement(N.a,{exact:!0,path:e},k.a.createElement(P.a,{icon:"\ud83d\udca3",title:"Buy & Redeem Bonds",subtitle:"Earn premiums upon redemption"})),k.a.createElement(pe,null,k.a.createElement(be,null,k.a.createElement(Z,{action:"Purchase",fromToken:t.BOMB,fromTokenName:"BOMB",toToken:t.BBOND,toTokenName:"BBOND",priceDesc:d?Object(ue.a)(o,18,4)+" BBOND available for purchase":"BOMB is over peg",onExchange:u,disabled:!r||s})),k.a.createElement(Oe,null,k.a.createElement(oe,{tokenName:"10,000 BOMB",description:"Last-Hour TWAP Price",price:m||"-"}),k.a.createElement($.a,{size:"md"}),k.a.createElement(oe,{tokenName:"10,000 BBOND",description:"Current Price: (BOMB)^2",price:Number(null===r||void 0===r?void 0:r.tokenInFtm).toFixed(4)||"-"})),k.a.createElement(be,null,k.a.createElement(Z,{action:"Redeem",fromToken:t.BBOND,fromTokenName:"BBOND",toToken:t.BOMB,toTokenName:"BOMB",priceDesc:"".concat(Object(ue.a)(i)," BBOND Available in wallet"),onExchange:l,disabled:!r||i.eq(0)||!s,disabledDescription:s?null:"Enabled when 10,000 BOMB > ".concat(le.a,"BTC")})))):k.a.createElement(D.a,null)))}},770:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var a,r=t(2),c=t.n(r),o=t(12),i=t(96),u=t(23),l=t(1),s=t(759),d=t(789),m=i.a.constants.MaxUint256,f=u.a.from("1000000000000000000000000");!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_APPROVED=1]="NOT_APPROVED",e[e.PENDING=2]="PENDING",e[e.APPROVED=3]="APPROVED"}(a||(a={})),n.b=function(e,n){var t=Object(s.a)(e.address,n),r=Object(d.a)(e,n,t),i=Object(l.useMemo)((function(){return r?r.lt(f)?t?a.PENDING:a.NOT_APPROVED:a.APPROVED:a.UNKNOWN}),[r,t]),u=Object(s.b)(),p=Object(l.useCallback)(Object(o.a)(c.a.mark((function t(){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i===a.NOT_APPROVED){t.next=3;break}return console.error("approve was called unnecessarily"),t.abrupt("return");case 3:return t.next=5,e.approve(n,m);case 5:r=t.sent,u(r,{summary:"Approve ".concat(e.symbol),approval:{tokenAddress:e.address,spender:n}});case 7:case"end":return t.stop()}}),t)}))),[i,e,n,u]);return[i,p]}},774:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var a=t(1),r=t.n(a),c=t(1596),o=t(815),i=function(){return r.a.createElement(c.a,{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},r.a.createElement(o.a,null))}},776:function(e,n,t){e.exports=t.p+"static/media/background.3761c6a5.jpg"},816:function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var a,r=t(40),c=t(1),o=t.n(c),i=t(32),u=i.d.div(a||(a=Object(r.a)(["\n  height: ","px;\n  width: ","px;\n"])),(function(e){return e.size}),(function(e){return e.size})),l=function(e){var n,t=e.size,a=void 0===t?"md":t,r=Object(c.useContext)(i.a).spacing;switch(a){case"lg":n=r[6];break;case"sm":n=r[2];break;case"md":default:n=r[4]}return o.a.createElement(u,{size:n})}},837:function(e,n,t){"use strict";var a=t(2),r=t.n(a),c=t(12),o=t(33),i=t(1),u=t(243),l=t(748);n.a=function(){var e=Object(i.useState)(),n=Object(o.a)(e,2),t=n[0],a=n[1],s=Object(l.a)().slowRefresh,d=Object(u.a)();return Object(i.useEffect)((function(){function e(){return(e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=a,e.next=4,d.getBondStat();case 4:e.t1=e.sent,(0,e.t0)(e.t1),e.next=11;break;case 8:e.prev=8,e.t2=e.catch(0),console.error(e.t2);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a,d,s]),t}},908:function(e,n,t){"use strict";var a=t(2),r=t.n(a),c=t(12),o=t(33),i=t(1),u=t(243),l=t(34),s=t(23);n.a=function(){var e=Object(i.useState)(s.a.from(0)),n=Object(o.a)(e,2),t=n[0],a=n[1],d=Object(u.a)(),m=Object(i.useCallback)(Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,d.getBombPriceInLastTWAP();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[d]);return Object(i.useEffect)((function(){m().catch((function(e){return console.error("Failed to fetch BOMB price: ".concat(e.stack))}));var e=setInterval(m,l.b.refreshInterval);return function(){return clearInterval(e)}}),[a,d,m]),t}},909:function(e,n,t){"use strict";var a=t(2),r=t.n(a),c=t(12),o=t(33),i=t(1),u=t(23),l=t(243);n.a=function(){var e=Object(i.useState)(u.a.from(0)),n=Object(o.a)(e,2),t=n[0],a=n[1],s=Object(l.a)();return Object(i.useEffect)((function(){function e(){return(e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=a,e.next=4,s.getBondsPurchasable();case 4:e.t1=e.sent,(0,e.t0)(e.t1),e.next=11;break;case 8:e.prev=8,e.t2=e.catch(0),console.error(e.t2);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a,s]),t}},910:function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return c}));var a=t(23).a.from(10).pow(14),r=1.01,c=a.mul(101).div(100)},911:function(e,n,t){"use strict";var a=t(1),r=t(100);n.a=function(){var e=Object(r.b)();return Object(a.useCallback)((function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Unexpected error is occurred.";n.catch((function(n){n.message.includes("User denied")||(console.error("Uncaught exception: ".concat(n.stack)),e({error:{message:t,stack:n.stack}}))}))}),[e])}},989:function(e,n,t){"use strict";var a,r,c,o=t(33),i=t(1),u=t.n(i),l=t(40),s=t(32),d=t(246),m=s.d.button(a||(a=Object(l.a)(["\n  align-items: center;\n  background-color: ",";\n  border: 0;\n  border-radius: 12px;\n  box-shadow: ",";\n  color: ",";\n  cursor: pointer;\n  display: flex;\n  font-size: ","px;\n  font-weight: 700;\n  height: ","px;\n  justify-content: center;\n  outline: none;\n  padding-left: ","px;\n  padding-right: ","px;\n  pointer-events: ",";\n  width: 100%;\n  &:hover {\n    background-color: ",";\n    color: ",";\n  }\n"])),(function(e){return e.theme.color.grey[900]}),(function(e){return e.boxShadow}),(function(e){return e.disabled?"".concat(e.color,"55"):e.color}),(function(e){return e.fontSize}),(function(e){return e.size}),(function(e){return e.padding}),(function(e){return e.padding}),(function(e){return e.disabled?"none":void 0}),(function(e){return e.color}),(function(e){return e.theme.color.grey[900]})),f=Object(s.d)(d.b)(r||(r=Object(l.a)(["\n  align-items: center;\n  color: inherit;\n  display: flex;\n  flex: 1;\n  height: 56px;\n  justify-content: center;\n  margin: 0 ","px;\n  padding: 0 ","px;\n  text-decoration: none;\n"])),(function(e){return-e.theme.spacing[4]}),(function(e){return e.theme.spacing[4]})),p=s.d.a(c||(c=Object(l.a)(["\n  align-items: center;\n  color: inherit;\n  display: flex;\n  flex: 1;\n  height: 56px;\n  justify-content: center;\n  margin: 0 ","px;\n  padding: 0 ","px;\n  text-decoration: none;\n"])),(function(e){return-e.theme.spacing[4]}),(function(e){return e.theme.spacing[4]})),b=function(e){var n,t,a,r,c=e.children,o=e.disabled,l=e.href,d=e.onClick,b=e.size,O=e.text,x=e.to,h=e.variant,g=Object(i.useContext)(s.a),j=g.color,v=g.spacing;switch(h){case"secondary":n=j.teal[200];break;case"default":default:n=j.primary.main}switch(b){case"sm":a=v[3],t=36,r=14;break;case"lg":a=v[4],t=72,r=16;break;case"md":default:a=v[4],t=56,r=16}var E=Object(i.useMemo)((function(){return x?u.a.createElement(f,{to:x},O):l?u.a.createElement(p,{href:l,target:"__blank"},O):O}),[l,O,x]);return u.a.createElement(m,{boxShadow:void 0,color:n,disabled:o,fontSize:r,onClick:d,padding:a,size:t},c,E)},O=t(767),x=t(775),h=t(768),g=t(772),j=t(21),v=t(779);n.a=function(e){var n=e.max,t=e.title,a=e.description,r=e.onConfirm,c=e.onDismiss,l=e.action,s=e.tokenName,d=Object(i.useState)(""),m=Object(o.a)(d,2),f=m[0],p=m[1],E=Object(i.useMemo)((function(){return Object(j.b)(n)}),[n]),k=Object(i.useCallback)((function(e){return p(e.currentTarget.value)}),[p]),y=Object(i.useCallback)((function(){p(E)}),[E,p]);return u.a.createElement(O.a,null,u.a.createElement(h.a,{text:t}),u.a.createElement(g.a,{value:f,onSelectMax:y,onChange:k,max:E,symbol:s}),u.a.createElement(v.a,{text:a}),u.a.createElement(x.a,null,u.a.createElement(b,{text:"Cancel",onClick:c}),u.a.createElement(b,{text:l,onClick:function(){return r(f)}})))}},991:function(e,n,t){"use strict";t.d(n,"a",(function(){return f}));var a,r,c,o=t(40),i=t(1),u=t.n(i),l=t(32),s=l.d.div(a||(a=Object(o.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: ","px;\n  padding-top: ","px;\n  max-width: 512px;\n  width: 100%;\n  margin: 0 auto;\n"])),(function(e){return e.theme.spacing[6]}),(function(e){return e.theme.spacing[6]})),d=l.d.h1(r||(r=Object(o.a)(["\n  color: '#f9d749';\n  font-size: 36px;\n  font-weight: 700;\n  margin: 0;\n  padding: 0;\n"]))),m=l.d.h3(c||(c=Object(o.a)(["\n  color: ",";\n  font-size: 18px;\n  font-weight: 400;\n  margin: 0;\n  padding: 0;\n  text-align: center;\n"])),(function(e){return e.theme.color.grey[400]})),f=function(e){e.icon;var n=e.subtitle,t=e.title;return u.a.createElement(s,null,u.a.createElement(d,null,t),u.a.createElement(m,null,n))}}}]);
//# sourceMappingURL=13.e288a9dc.chunk.js.map